<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Smiles Drawer Example</title>
    <meta name="description" content="A minimal smiles drawer example." />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      href="pkgs/google_styles.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <input id="example-input" name="example-input" />
    <canvas id="example-canvas" width="500" height="500"></canvas>

    <script src="pkgs/smiles-drawer.min.js"></script>
    <script>
      let input = document.getElementById("example-input");
      let options = {};

      // Initialize the drawer to draw to canvas
      let smilesDrawer = new SmilesDrawer.Drawer(options);
      SmilesDrawer.parse('[H]OC(=O)C([H])=C([H])C([H])=C([H])C(=O)O[H]', function(tree) {
	// Draw to the canvas
	console.log(tree)
	a = smilesDrawer.draw(tree, "example-canvas", "light", false);
	console.log(a)
	// Alternatively, draw to SVG:
	// svgDrawer.draw(tree, 'output-svg', 'dark', false);
      });
      
      //smilesDrawer.draw('[H]OC(=O)C([H])=C([H])C([H])=C([H])C(=O)O[H]', "example-canvas", "light", false);
      // Alternatively, initialize the SVG drawer:
      // let svgDrawer = new SmilesDrawer.SvgDrawer(options);

      input.addEventListener("input", function() {
        // Clean the input (remove unrecognized characters, such as spaces and tabs) and parse it
        SmilesDrawer.parse(input.value, function(tree) {
          // Draw to the canvas
          a = smilesDrawer.draw(tree, "example-canvas", "light", false);
	  console.log(a)
          // Alternatively, draw to SVG:
          // svgDrawer.draw(tree, 'output-svg', 'dark', false);
        });
      });
    </script>
  </body>
</html>
